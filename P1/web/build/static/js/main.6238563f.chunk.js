(this.webpackJsonpweb=this.webpackJsonpweb||[]).push([[0],{176:function(e,a,t){e.exports=t(209)},181:function(e,a,t){},183:function(e,a,t){},188:function(e,a,t){},191:function(e,a,t){},209:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),i=t(31),o=t.n(i),c=(t(181),t(92)),l=t.n(c),s=t(41),u=t(121),d=(t(183),t(24)),m=t(63),p=t(7),f=t(251),h=t(60),v=t(270),b=t(253),g=t(254),w=t(255),E=t(118),O=t(256),k=t(144),y=t.n(k),j=t(145),x=t.n(j),C=t(146),S=t.n(C),N=t(4),P=t(271),W=t(252),A=t(268);function B(e){var a=e.children,t=e.value,n=e.index,i=Object(N.a)(e,["children","value","index"]);return r.a.createElement(E.a,Object.assign({component:"div",role:"tabpanel",hidden:t!==n,id:"vertical-tabpanel-".concat(n),"aria-labelledby":"vertical-tab-".concat(n)},i),t===n&&r.a.createElement(A.a,{p:3},a))}var T=Object(f.a)((function(e){return{root:{flexGrow:1,backgroundColor:e.palette.background.paper,display:"flex"},tabs:{borderRight:"1px solid ".concat(e.palette.divider),minWidth:70,width:70,maxWidth:70},tabRoot:{minWidth:70,maxWidth:70,width:70},tabPanel:{width:"100%"}}}));function _(e){var a=T(),t=r.a.useState(0),n=Object(m.a)(t,2),i=n[0],o=n[1];return r.a.createElement("div",{className:a.root},r.a.createElement(P.a,{orientation:"vertical",variant:"scrollable",value:i,onChange:function(e,a){o(a)},className:a.tabs},e.configuration.icon.map((function(e,t){return r.a.createElement(W.a,Object.assign({icon:e},function(e){return{id:"vertical-tab-".concat(e),"aria-controls":"vertical-tabpanel-".concat(e)}}(t),{classes:{root:a.tabRoot},key:t}))}))),e.configuration.panel.map((function(e,t){return r.a.createElement(B,{value:i,index:t,key:t,className:a.tabPanel},e)})))}var F=window.innerWidth>1500?.3*window.innerWidth:window.innerWidth>100?.5*window.innerWidth:500,z=Object(f.a)((function(e){return{root:{flexGrow:1,display:"flex"},appBar:{transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{width:"calc(100% - ".concat(F,"px)"),marginLeft:F,transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:e.spacing(2)},hide:{display:"none"},drawer:{width:F,flexShrink:0},drawerPaper:{width:F},drawerHeader:{display:"flex",alignItems:"center",padding:e.spacing(0,1),justifyContent:"flex-end","min-height":"48px","align-items":"center"},content:{flexGrow:1,transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),marginLeft:-F,height:"calc(100vh - 48px)"},contentShift:{transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginLeft:0,height:"calc(100vh - 48px)"}}}));function D(e){var a=z(),t=Object(h.a)(),n=r.a.useState(!1),i=Object(m.a)(n,2),o=i[0],c=i[1];return r.a.createElement("div",{className:a.root},r.a.createElement(b.a,null),r.a.createElement(g.a,{position:"fixed",className:Object(p.a)(a.appBar,Object(d.a)({},a.appBarShift,o))},r.a.createElement(w.a,{variant:"dense"},r.a.createElement(O.a,{color:"inherit","aria-label":"open drawer",onClick:function(){c(!0)},edge:"start",className:Object(p.a)(a.menuButton,o&&a.hide)},r.a.createElement(y.a,null)),r.a.createElement(E.a,{variant:"h6",noWrap:!0},"Airplane Bill"))),r.a.createElement(v.a,{className:a.drawer,variant:"persistent",anchor:"left",open:o,classes:{paper:a.drawerPaper}},r.a.createElement("div",{className:a.drawerHeader},r.a.createElement(O.a,{onClick:function(){c(!1)}},"ltr"===t.direction?r.a.createElement(x.a,null):r.a.createElement(S.a,null))),r.a.createElement(_,{configuration:e.configuration.tabs}),r.a.createElement("div",{className:a.drawerHeader})),r.a.createElement("main",{className:Object(p.a)(a.content,Object(d.a)({},a.contentShift,o))},r.a.createElement("div",{className:a.drawerHeader}),e.configuration.content))}var I=t(100),L=t(69),R=t(147),H=t(148),V=t(156),G=(t(188),t(122)),J=t(93),X=t(117),Y=t(125),M=new G.b({stroke:new J.a({color:"rgba(205, 55, 55, 0.9)",width:2}),fill:new X.a({color:"rgba(255, 0, 100, 0.1)"})}),$=new G.b({stroke:new J.a({color:"rgba(205, 0, 0, 1)",width:4}),fill:new X.a({color:"rgba(255, 0, 50, 0.3)"})}),q=new G.b({stroke:new J.a({color:"rgba(0, 60, 200, 0.8)",lineDash:[4],width:2})}),K=new G.b({stroke:new J.a({color:"rgba(0, 0, 255, 1)",lineDash:[4],width:4})}),Q=new G.b({stroke:new J.a({color:"rgba(0, 0, 255, 1)",width:5}),fill:new X.a({color:"rgba(0, 0, 255, 1)"}),image:new Y.a({radius:7,fill:new X.a({color:"rgba(0,0,255, 1)"})})});var U=t(154),Z=t(114),ee=t(157),ae=t(267),te=t(273),ne=t(272),re=t(269),ie=t(113),oe=t(133),ce=t(134),le=t(135),se=t(45),ue=t(8),de=t(155),me=(t(191),t(104)),pe={visible:!1,skipCoordinates:!1,coordinates:"",content:[]},fe="SET_VISIBLE",he="SET_COORDINATES",ve="SET_CONTENT";var be=Object(me.b)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pe,a=arguments.length>1?arguments[1]:void 0;return a.type===he?Object.assign({},e,{visible:!e.skipCoordinates,skipCoordinates:!1,coordinates:a.coordinates}):a.type===fe?Object.assign({},e,{visible:a.visible,skipCoordinates:!0}):a.type===ve?Object.assign({},e,{visible:!e.skipCoordinates,skipCoordinates:!1,content:a.content}):e}));var ge=t(150),we=t.n(ge),Ee=t(259),Oe=t(257),ke=t(276),ye=t(258),je=Object(f.a)((function(e){return{root:{width:"100%",maxWidth:360,backgroundColor:e.palette.background.paper}}}));function xe(e){var a=je();return r.a.createElement(Oe.a,{className:a.root},e.content.map((function(a,t){var n=t<e.content.length-1?r.a.createElement(ye.a,null):"";return r.a.createElement("div",{key:t},r.a.createElement(ke.a,{key:t},a),n)})))}var Ce=Object(de.a)((function(e){return{visible:e.visible,coordinates:e.coordinates,content:e.content}}))((function(e){return e.visible?r.a.createElement(Ee.a,{fixed:!0,className:"ol-popup"},r.a.createElement(O.a,{"aria-label":"delete",onClick:function(){be.dispatch({type:fe,visible:!1})}},r.a.createElement(we.a,{fontSize:"small"})),e.coordinates,r.a.createElement(xe,{content:e.content})):""})),Se=t(91),Ne=t(274),Pe=t(151),We=t(25),Ae=t(124);function Be(e,a){return new Ae.a({geometry:e,renderer:a,isClicked:!1})}function Te(e,a){a.getSource().addFeature(e)}function _e(e){e.getSource().clear()}function Fe(e,a){var t;Te(Be((t=e,new Se.a(t,We.a.XY)),a),Re)}function ze(e,a){var t;Te(Be((t=e,new Ne.a(t,We.a.XY)),a),He)}function De(e){return[e[0].map((function(e){return Object(ue.d)(e)}))]}function Ie(e){e.getSource().forEachFeature((function(e){e.values_.isClicked&&(e.values_.isClicked=!1,e.changed())}))}var Le=null,Re=new ae.a({source:new ne.a({features:[]}),style:function(e){return e.values_.isClicked?$:M}}),He=new ae.a({source:new ne.a({features:[]}),style:function(e){return e.values_.isClicked?K:q}}),Ve=new ae.a({source:new ne.a({features:[]}),style:function(){return Q}}),Ge=function(e){function a(){return Object(I.a)(this,a),Object(R.a)(this,Object(H.a)(a).apply(this,arguments))}return Object(V.a)(a,e),Object(L.a)(a,[{key:"componentDidMount",value:function(){if(null==Le){var e=new te.a({source:new re.a}),a=r.a.createElement(Ce,{store:be}),t=document.createElement("popup-div");o.a.render(a,t);var n=new ee.a({element:t,autoPan:!0,autoPanAnimation:{duration:250}});(Le=new U.a({target:"map",layers:[e,Re,He,Ve],overlays:[n],view:new Z.a({center:[397e5,43e5],zoom:5.8}),controls:Object(ie.a)({attributionOptions:{collapsible:!0}}).extend([new oe.a({source:"root"}),new ce.a({className:"mouse-position-map",coordinateFormat:function(e){return Object(se.e)(Object(ue.m)(e))}}),new le.a])})).on("singleclick",(function(e){var a=e.coordinate,t=Object(se.e)(Object(ue.m)(a)),r=[];Ie(Re),Ie(He),Le.forEachFeatureAtPixel(Le.getPixelFromCoordinate(e.coordinate),(function(e){r.push(e.values_.renderer),function(e){e.values_.isClicked=!0,e.changed()}(e)}),{hitTolerance:2}),be.dispatch({type:ve,content:r}),be.dispatch({type:he,coordinates:t}),n.setPosition(a),_e(Ve)}))}}},{key:"render",value:function(){return r.a.createElement("div",{id:"map",className:"map"})}}]),a}(r.a.Component),Je=t(152),Xe=t.n(Je),Ye=t(153),Me=t.n(Ye);function $e(e){var a=e.update,t=r.a.useState([]),n=Object(m.a)(t,2),i=n[0],o=n[1];return r.a.useEffect((function(){a().then((function(e){return o(e)}))}),[a]),r.a.createElement(Ee.a,null,r.a.createElement("h3",null,e.name),r.a.createElement(xe,{content:i}))}var qe=t(260),Ke=t(262),Qe=t(266),Ue=t(265),Ze=t(261),ea=t(263),aa=t(264),ta=t(210),na=t(275),ra=Object(f.a)({table:{minWidth:250}});function ia(e){var a=ra();return r.a.createElement("div",null,r.a.createElement(qe.a,{primary:e.name,secondary:e.type}),e.costs?r.a.createElement("div",null,r.a.createElement(Ze.a,{component:ta.a},r.a.createElement(Ke.a,{className:a.table,size:"small","aria-label":"a dense table"},r.a.createElement(ea.a,null,r.a.createElement(aa.a,null,r.a.createElement(Ue.a,{align:"right"},"Area"),r.a.createElement(Ue.a,{align:"right"},"Distance"),r.a.createElement(Ue.a,{align:"right"},"Cost"))),r.a.createElement(Qe.a,null,e.costs.map((function(e){return r.a.createElement(aa.a,{key:e.name},r.a.createElement(Ue.a,{component:"th",scope:"row"},e.name),r.a.createElement(Ue.a,{align:"right"},e.cost.toFixed(2)),r.a.createElement(Ue.a,{align:"right"},e.distance.toFixed(3)))}))))),r.a.createElement(na.a,{defaultValue:0,getAriaValueText:function(a){var t;return t=e.route[a],_e(Ve),console.log("nep Point"),Te(new Ae.a({geometry:new Pe.a(t,We.a.XY)}),Ve),e.route[a]},"aria-labelledby":"discrete-slider",step:1,min:0,max:e.route.length-1,valueLabelDisplay:"auto"})):null)}var oa=t(94),ca=t.n(oa);function la(){return new Promise((function(e,a){ca.a.get("http://localhost:8080/sistema-modelos-avanzados/area").then((function(a){_e(Re),e(a.data.map((function(e){var a=r.a.createElement(ia,{name:e.nombre,type:e.tipoArea.nombre});return Fe(De(JSON.parse(e.frontera)),a),a})))})).catch((function(e){return a(e)}))}))}function sa(){return new Promise(function(){var e=Object(u.a)(l.a.mark((function e(a){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ca.a.get("http://localhost:8080/sistema-modelos-avanzados/avion/vuelos");case 2:t=e.sent,n=t.data.map(function(){var e=Object(u.a)(l.a.mark((function e(a,t){var n,r,i,o,c,u;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ca.a.get("http://localhost:8080/sistema-modelos-avanzados/avion/calculo/?codVuelo="+(t+1));case 2:return n=e.sent,e.next=5,ca.a.get("http://localhost:8080/sistema-modelos-avanzados/avion/vuelos/ruta/?codVuelo="+(t+1));case 5:return r=e.sent,i=0,o=n.data.conceptos.map((function(e){return i+=e.recorrido,{name:e.area.nombre,cost:e.costeCalculado,distance:e.recorrido}})),c=[].concat(Object(s.a)(o),[{name:"Total",cost:n.data.total,distance:i}]),u=r.data.tramo,e.abrupt("return",{costs:c,route:u});case 11:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}()),Promise.all(n).then((function(e){_e(He),a(t.data.map((function(a,t){var n=De([JSON.parse(e[t].route)]),i=r.a.createElement(ia,{name:a.avion.id,type:a.origen+" -> "+a.destino,costs:e[t].costs,route:n[0]});return ze(n,i),i})))}));case 5:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}())}var ua=function(){return la(),sa(),r.a.createElement("div",{className:"App"},r.a.createElement(D,{configuration:{content:r.a.createElement(Ge,null),tabs:{icon:[r.a.createElement(Xe.a,null),r.a.createElement(Me.a,null)],panel:[r.a.createElement($e,{name:"AREAS",content:[],update:la}),r.a.createElement($e,{name:"FLIGHTS",content:[],update:sa})]}}}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(ua,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[176,1,2]]]);
//# sourceMappingURL=main.6238563f.chunk.js.map